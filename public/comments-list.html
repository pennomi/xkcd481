<link rel="import" href="/components/polymer/polymer.html">

<polymer-element name="comments-list" attributes="comments">
    <template>
        <style>
            .comment_list {
                width: 50%;
            }
        </style>
        <div class="comment_list">
            <template repeat="{{ comment in comments }}">
                <comments-item text="comment"></comments-item>
            </template>
        </div>
        <ul>
            <template repeat="{{ comment in comments }}">
                <li>{{comment.userName}} {{comment.date}} - {{comment.text}}</li>
            </template>
        </ul>
    </template>
    <script>
        Polymer({
            comments: [
                {
                    "id": "123",
                    "user_picture": "http://upload.wikimedia.org/wikipedia/en/9/99/MarioSMBW.png", 
                    "user_name": "Mario", 
                    "text": "It's-a me!",
                    "likes": 3000
                }
            ],
	    ready: function () {
                var el = this;
                document.querySelector('comments-entry')
                .addEventListener('newComment', function (evt) {
                    el.comments.push(evt.detail);
                });
            },
        });
    </script>
</polymer-element>
