<link rel="import" href="/components/polymer/polymer.html">
<link rel="import" href="/gravatar-photo.html">
<link rel="import" href="/components/core-style/core-style.html">

<polymer-element name="comments-item" attributes="comment">
    <template>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <style>
            .comment_item {
                background-color: white;
                margin: 5px;
                padding: 5px;
            }
            .profile_img {
                width:30px;
                height:30px; 
                display:block; 
                position:relative;
                overflow:hidden;
                border: 1px black solid;
            }
            .profile_img img {
                position:absolute;
                top:0;
                left:0; 
                width:100%;
            }
        </style>
		
		<core-style id="gravatar-photo">
			img {
				height: 48px;
			}
		</core-style>
        <div class="comment_item">
            <gravatar-photo email="{{ comment.email }}"></gravatar-photo>
            <p>{{ comment.text }}</p>
            <p>
                <span>{{ comment.likes }}</span>
                <span on-click="{{ upvote }}" class="fa fa-thumbs-o-up"></span>
                <span on-click="{{ downvote }}" class="fa fa-thumbs-o-down"></span>
            </p>
        </div>
    </template>
    <script>
        Polymer({
            comment: {
                "id": "123",
                "user_picture": "http://upload.wikimedia.org/wikipedia/en/9/99/MarioSMBW.png", 
                "user_name": "Mario", 
                "text": "It's-a me!",
                "likes": 3000
            },
            upvote: function () {
                console.log("Thumbs-up");
                this.comment.likes += 1;
            },
            downvote: function () {
                console.log("Thumbs-down");
                this.comment.likes -= 1;
            },
        });
    </script>
</polymer-element>
